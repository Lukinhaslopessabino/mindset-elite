<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mindset Elite • Interactive Trailer</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
font-family:'Orbitron',sans-serif;
background:#000;
color:#fff;
overflow:hidden;
}

/* VIDEO */
.video-container{
position:fixed;
width:100%;
height:100%;
z-index:-3;
}
video{
width:100%;
height:100%;
object-fit:cover;
}

/* OVERLAY */
.overlay{
position:fixed;
width:100%;
height:100%;
background:radial-gradient(circle at center, rgba(0,0,0,0.2), rgba(0,0,0,0.9));
z-index:-2;
}

/* HERO */
.hero{
position:absolute;
top:50%;
left:50%;
transform:translate(-50%,-50%);
text-align:center;
z-index:10;
}

.hero h1{
font-size:clamp(3rem,7vw,5rem);
opacity:0;
color:#00F5FF;
text-shadow:0 0 10px #00F5FF, 0 0 30px #00F5FF;
}

.hero p{
margin-top:20px;
font-size:1.3rem;
opacity:0;
}

/* ENTER */
.enter{
position:absolute;
bottom:60px;
left:50%;
transform:translateX(-50%);
cursor:pointer;
padding:15px 30px;
border:1px solid #00F5FF;
border-radius:30px;
color:#00F5FF;
z-index:20;
transition:0.3s;
}

.enter:hover{
background:#00F5FF;
color:#000;
box-shadow:0 0 20px #00F5FF;
}

canvas{
position:fixed;
top:0;
left:0;
z-index:-1;
}
</style>
</head>
<body>

<div class="video-container">
<video id="video" preload="auto">
<source src="intro.mp4" type="video/mp4">
</video>
</div>

<div class="overlay"></div>
<canvas id="bg3d"></canvas>

<div class="hero">
<h1 id="title">Mindset Elite</h1>
<p id="subtitle">Elite não nasce. Elite se constrói.</p>
</div>

<div class="enter" id="enterBtn">INICIAR EXPERIÊNCIA</div>

<script>

/* ================= TRAVAR SCROLL ================= */
document.body.style.overflow = "hidden";

/* ================= VIDEO ================= */

const video = document.getElementById("video");
const enterBtn = document.getElementById("enterBtn");

enterBtn.addEventListener("click",()=>{
video.play();
enterBtn.style.display="none";
});

/* ================= THREE JS ================= */

const canvas = document.getElementById("bg3d");
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 2000);
const renderer = new THREE.WebGLRenderer({ canvas:canvas, alpha:true });
renderer.setSize(window.innerWidth, window.innerHeight);

const geometry = new THREE.BufferGeometry();
const vertices = [];

for(let i=0;i<2000;i++){
vertices.push(
THREE.MathUtils.randFloatSpread(2000),
THREE.MathUtils.randFloatSpread(2000),
THREE.MathUtils.randFloatSpread(2000)
);
}

geometry.setAttribute('position', new THREE.Float32BufferAttribute(vertices,3));

const material = new THREE.PointsMaterial({
color:0x00f5ff,
size:2
});

const particles = new THREE.Points(geometry, material);
scene.add(particles);

camera.position.z = 600;

/* ================= ÁUDIO ANALYSER ================= */

const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
const analyser = audioCtx.createAnalyser();
const source = audioCtx.createMediaElementSource(video);

source.connect(analyser);
analyser.connect(audioCtx.destination);

analyser.fftSize = 64;
const dataArray = new Uint8Array(analyser.frequencyBinCount);

/* ================= ANIMAÇÃO ================= */

function animate(){
requestAnimationFrame(animate);

analyser.getByteFrequencyData(dataArray);
let avg = dataArray.reduce((a,b)=>a+b)/dataArray.length;

/* NEON GLOW REAGINDO */
document.getElementById("title").style.textShadow =
`0 0 ${10 + avg/5}px #00F5FF,
 0 0 ${30 + avg/3}px #00F5FF`;

/* PARTÍCULAS REAGINDO */
particles.rotation.x += 0.0005 + avg/200000;
particles.rotation.y += 0.0005 + avg/200000;

renderer.render(scene,camera);
}
animate();

/* ================= SINCRONIZAR CÂMERA COM TEMPO ================= */

video.addEventListener("timeupdate",()=>{

let t = video.currentTime;

/* Câmera avança com o tempo */
camera.position.z = 600 - t*40;

/* Texto aparece em momentos exatos */
if(t > 1){
gsap.to("#title",{opacity:1,y:-20,duration:1});
}
if(t > 4){
gsap.to("#subtitle",{opacity:1,y:-10,duration:1});
}

});

/* ================= AUTO PLAY AUDIO ================= */

document.body.addEventListener("click",()=>{
audioCtx.resume();
},{once:true});

window.addEventListener("resize",()=>{
camera.aspect=window.innerWidth/window.innerHeight;
camera.updateProjectionMatrix();
renderer.setSize(window.innerWidth, window.innerHeight);
});

</script>

</body>
</html>
