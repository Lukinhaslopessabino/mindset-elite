<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Painel Admin - Mindset Elite</title>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">

<style>

*{
margin:0;
padding:0;
box-sizing:border-box;
font-family:'Montserrat',sans-serif;
}

body{
background:#000;
color:#fff;
display:flex;
justify-content:center;
align-items:center;
min-height:100vh;
overflow-x:hidden;
}

/* FUNDO GRADIENTE */
body::before{
content:"";
position:fixed;
width:100%;
height:100%;
background:radial-gradient(circle at top,#0099FF20,transparent 70%);
z-index:-1;
}

/* CARD PRINCIPAL */
.container{
width:420px;
background:rgba(0,0,0,0.65);
backdrop-filter:blur(20px);
border:2px solid #0099FF;
border-radius:25px;
padding:40px;
box-shadow:0 0 40px rgba(0,153,255,0.3);
text-align:center;
}

/* TÍTULO */
h1{
font-size:28px;
margin-bottom:25px;
color:#0099FF;
text-shadow:0 0 15px rgba(0,153,255,0.7);
}

/* INPUT */
input{
width:100%;
padding:14px;
margin-bottom:20px;
border-radius:12px;
border:1px solid #0099FF;
background:rgba(0,153,255,0.05);
color:#fff;
outline:none;
transition:0.3s;
}

input:focus{
box-shadow:0 0 20px rgba(0,153,255,0.4);
}

/* BOTÕES */
button{
width:100%;
padding:14px;
border-radius:20px;
border:none;
margin-top:10px;
font-weight:600;
cursor:pointer;
transition:0.3s;
}

.btn-primary{
background:linear-gradient(90deg,#0099FF,#00BFFF);
color:#fff;
box-shadow:0 0 20px rgba(0,153,255,0.4);
}

.btn-primary:hover{
transform:scale(1.05);
box-shadow:0 0 35px rgba(0,153,255,0.8);
}

.btn-action{
background:#111;
border:1px solid #0099FF;
color:#0099FF;
}

.btn-action:hover{
background:#0099FF;
color:#000;
}

/* PAINEL */
#painel{
margin-top:25px;
display:none;
animation:fade 0.5s ease;
}

@keyframes fade{
from{opacity:0;transform:translateY(15px);}
to{opacity:1;transform:translateY(0);}
}

/* BOX RESULTADO */
.box{
background:#0a0a0a;
border:1px solid #0099FF;
padding:15px;
border-radius:15px;
margin-top:15px;
}

#resultado{
margin-top:15px;
max-height:250px;
overflow:auto;
font-size:12px;
text-align:left;
background:#000;
padding:15px;
border-radius:15px;
border:1px solid #0099FF;
}

pre{
white-space:pre-wrap;
word-break:break-word;
}

</style>
</head>

<body>

<div class="container">

<h1>Painel Admin</h1>

<input type="password" id="senha" placeholder="Senha admin">

<button class="btn-primary" onclick="login()">Entrar</button>

<div id="painel">

<div class="box">
<button class="btn-action" onclick="verInscritos()">Ver Inscritos</button>
<button class="btn-action" onclick="resetar()">Resetar Vaga para 1</button>
</div>

<div id="resultado"></div>

</div>

</div>

<script>

async function login(){
  const senha = document.getElementById("senha").value;

  const res = await fetch("/admin/login", {
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body: JSON.stringify({ senha })
  });

  if(!res.ok){
    alert("Senha incorreta");
    return;
  }

  document.getElementById("painel").style.display="block";
  alert("Login feito");
}

async function verInscritos(){
  const senha = document.getElementById("senha").value;

  const res = await fetch("/admin/inscritos", {
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body: JSON.stringify({ senha })
  });

  const data = await res.json();

  document.getElementById("resultado").innerHTML =
    "<pre>"+JSON.stringify(data.inscritos, null, 2)+"</pre>";
}

async function resetar(){
  const senha = document.getElementById("senha").value;

  await fetch("/admin/resetar", {
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body: JSON.stringify({ senha })
  });

  alert("Vaga resetada para 1");
}

</script>

</body>
</html>
