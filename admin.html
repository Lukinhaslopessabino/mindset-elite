<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Painel Admin</title>
<style>
body{
background:#0b0f1a;
color:#fff;
font-family:Arial;
padding:40px;
}

.card{
background:#111;
padding:30px;
border-radius:20px;
border:2px solid #0099FF;
box-shadow:0 0 30px rgba(0,153,255,0.3);
margin-bottom:20px;
}
</style>
</head>

<body>

<h1>Dashboard Mindset</h1>

<div class="card">
<p id="vagas"></p>
<p id="inscritos"></p>
<p id="bloqueados"></p>
</div>

<script>
async function carregar(){
const token = localStorage.getItem("token");

if(!token){
window.location.href = "admin-login.html";
return;
}

const res = await fetch("/admin/dashboard",{
headers:{ Authorization: "Bearer " + token }
});

if(!res.ok){
localStorage.removeItem("token");
window.location.href = "admin-login.html";
return;
}

const data = await res.json();

document.getElementById("vagas").innerText = "Vagas: " + data.vagas;
document.getElementById("inscritos").innerText = "Inscritos: " + data.totalInscritos;
document.getElementById("bloqueados").innerText = "IPs Bloqueados: " + data.bloqueados.length;
}

carregar();
</script>

</body>
</html>
