<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Inscrição - Mindset Elite</title>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;900&display=swap" rel="stylesheet">
<script src="https://www.google.com/recaptcha/api.js" async defer></script>

<style>
body{
font-family:Montserrat;
background:#000;
color:#fff;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
}

.form-box{
background:#111;
padding:40px;
border-radius:20px;
width:350px;
}

input{
width:100%;
padding:12px;
margin-bottom:15px;
border-radius:10px;
border:1px solid #0099FF;
background:#000;
color:#fff;
}

button{
width:100%;
padding:12px;
border:none;
border-radius:10px;
background:#0099FF;
color:#fff;
font-weight:bold;
cursor:pointer;
}

#formMsg{
margin-top:15px;
}
</style>
</head>

<body>

<div class="form-box">
<h2>Inscrição Oficial</h2>

<form id="signupForm">

<input type="text" id="telegram" placeholder="@SeuTelegram" required>
<input type="text" id="nome" placeholder="Seu Nome" required>
<input type="number" id="idade" placeholder="Sua Idade" required>

<div class="g-recaptcha" data-sitekey="SUA_SITE_KEY_AQUI"></div>

<button type="submit">Enviar</button>

<p id="formMsg"></p>
</form>
</div>

<script>
const form = document.getElementById("signupForm");
const formMsg = document.getElementById("formMsg");

form.addEventListener("submit", async function(e){
e.preventDefault();

const token = grecaptcha.getResponse();
if(!token){
formMsg.innerText="Confirme o reCAPTCHA.";
return;
}

const telegram = document.getElementById("telegram").value.trim();
const nome = document.getElementById("nome").value.trim();
const idade = parseInt(document.getElementById("idade").value);

try{
const res = await fetch("/inscrever",{
method:"POST",
headers:{ "Content-Type":"application/json" },
body: JSON.stringify({ nome, idade, telegram, token })
});

const data = await res.json();

if(!res.ok){
formMsg.innerText=data.erro;
return;
}

formMsg.style.color="#00FFAA";
formMsg.innerText="Inscrição confirmada!";
form.reset();
grecaptcha.reset();

}catch{
formMsg.innerText="Erro ao enviar.";
}
});
</script>

</body>
</html>
