<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Membros - Mindset Elite</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box}

body{
font-family:'Orbitron',sans-serif;
background:linear-gradient(135deg,#000,#0a0f1c);
color:#fff;
overflow-x:hidden;
}

/* ===== NAV ===== */

nav{
position:fixed;
top:0;
width:100%;
display:flex;
justify-content:center;
gap:20px;
padding:15px;
background:rgba(0,0,0,0.85);
backdrop-filter:blur(15px);
border-bottom:1px solid rgba(0,153,255,0.5);
z-index:1000;
flex-wrap:wrap;
}

nav a{
color:#fff;
text-decoration:none;
font-weight:600;
padding:8px 14px;
border-radius:25px;
transition:0.3s;
font-size:14px;
}

nav a:hover{
background:#0099FF;
color:#000;
box-shadow:0 0 20px #0099FF;
}

/* ===== CONTAINER ===== */

.container{
max-width:1300px;
margin:auto;
padding:130px 20px 80px 20px;
}

h2{
font-size:28px;
margin-bottom:40px;
border-left:5px solid #0099FF;
padding-left:15px;
}

/* ===== GRID ===== */

.grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
gap:30px;
}

/* ===== CARD ===== */

.member-card{
background:rgba(15,20,35,0.95);
padding:25px;
border-radius:20px;
text-align:center;
border:1px solid rgba(0,153,255,0.3);
box-shadow:0 0 20px rgba(0,153,255,0.2);
transition:0.4s;
position:relative;
}

.member-card:hover{
transform:translateY(-6px);
box-shadow:0 0 40px rgba(0,153,255,0.7);
}

.rank{
position:absolute;
top:10px;
right:15px;
font-size:14px;
animation:pulse 2s infinite;
}

@keyframes pulse{
0%{transform:scale(1);}
50%{transform:scale(1.1);}
100%{transform:scale(1);}
}

/* ===== AVATAR ===== */

.avatar-wrapper{
width:110px;
height:110px;
margin:auto;
border-radius:50%;
padding:4px;
background:linear-gradient(45deg,#0099FF,#00FFFF,#0099FF);
animation:rotateAura 6s linear infinite;
}

@keyframes rotateAura{
0%{transform:rotate(0deg);}
100%{transform:rotate(360deg);}
}

.avatar-wrapper img{
width:100%;
height:100%;
border-radius:50%;
object-fit:cover;
display:block;
}

/* ===== FUNDO 3D ===== */

#bg3d{
position:fixed;
top:0;
left:0;
z-index:-2;
}

/* ===== MOBILE ===== */

@media (max-width:600px){
h2{font-size:22px;}
.avatar-wrapper{width:90px;height:90px;}
.grid{gap:20px;}
}

</style>
</head>

<body>

<canvas id="bg3d"></canvas>

<nav>
<a href="index.html">In√≠cio</a>
<a href="membros.html">Membros</a>
<a href="participantes.html">Participantes</a>
<a href="videos.html">V√≠deos</a>
<a href="links.html">Links Oficiais</a>
<a href="formulario.html">Formul√°rio</a>
</nav>

<div class="container">
<h2>üèÜ Ranking Mindset Elite</h2>
<div class="grid" id="membersGrid">
Carregando ranking...
</div>
</div>

<script>

/* ================= FUNDO 3D (DESKTOP APENAS) ================= */

if(window.innerWidth > 768){

const canvas = document.getElementById("bg3d");
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(
75,
window.innerWidth/window.innerHeight,
0.1,
2000
);

const renderer = new THREE.WebGLRenderer({
canvas:canvas,
alpha:true
});

renderer.setSize(window.innerWidth, window.innerHeight);

const geometry = new THREE.BufferGeometry();
const vertices = [];

for(let i=0;i<1000;i++){
vertices.push(
THREE.MathUtils.randFloatSpread(2000),
THREE.MathUtils.randFloatSpread(2000),
THREE.MathUtils.randFloatSpread(2000)
);
}

geometry.setAttribute(
'position',
new THREE.Float32BufferAttribute(vertices,3)
);

const material = new THREE.PointsMaterial({
color:0x0099ff,
size:2
});

const particles = new THREE.Points(geometry, material);
scene.add(particles);

camera.position.z = 600;

function animate(){
requestAnimationFrame(animate);
particles.rotation.x += 0.0002;
particles.rotation.y += 0.0002;
renderer.render(scene, camera);
}
animate();

}

/* ================= RANKING ROBUSTO ================= */

async function carregarRanking(){

const grid = document.getElementById("membersGrid");

try{

const res = await fetch("https://mindset-elite.onrender.com/ranking");

if(!res.ok){
grid.innerHTML="‚ö† Ranking indispon√≠vel.";
return;
}

const data = await res.json();

grid.innerHTML="";

if(!data.ranking || data.ranking.length === 0){
grid.innerHTML="Nenhum membro ainda.";
return;
}

data.ranking.forEach(user=>{

let medal="";
if(user.rank===1) medal="ü•á";
else if(user.rank===2) medal="ü•à";
else if(user.rank===3) medal="ü•â";

const fotoPath = user.foto
? `/images/${user.foto}`
: "/images/default.jpg";

const card = document.createElement("div");
card.className="member-card";

card.innerHTML=`
<div class="rank">#${user.rank} ${medal}</div>
<div class="avatar-wrapper">
<img src="${fotoPath}" alt="${user.nome}">
</div>
<h3>${user.nome}</h3>
<p>${user.idade || 0} anos</p>
`;

const img = card.querySelector("img");

/* Fallback profissional */
img.onerror = function(){
this.onerror=null;
this.src="/images/default.jpg";
};

grid.appendChild(card);

});

}catch(err){
grid.innerHTML="‚ö† Erro ao carregar ranking.";
console.error(err);
}

}

carregarRanking();

</script>

</body>
</html>


