<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Membros - Mindset Elite</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
font-family:'Orbitron',sans-serif;
background:#000;
color:#fff;
overflow-x:hidden;
}

/* MENU */
nav{
position:fixed;
top:0;
width:100%;
display:flex;
justify-content:center;
gap:30px;
padding:20px 0;
background:rgba(0,0,0,0.8);
backdrop-filter:blur(15px);
border-bottom:1px solid rgba(0,153,255,0.5);
z-index:1000;
}

nav a{
color:#fff;
text-decoration:none;
font-weight:600;
padding:10px 18px;
border-radius:30px;
transition:0.3s;
}

nav a:hover{
background:#0099FF;
color:#000;
box-shadow:0 0 20px #0099FF;
}

/* CONTAINER */
.container{
max-width:1300px;
margin:auto;
padding-top:160px;
padding-bottom:100px;
padding-left:20px;
padding-right:20px;
}

h2{
font-size:32px;
margin-bottom:60px;
border-left:5px solid #0099FF;
padding-left:15px;
}

/* GRID */
.grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
gap:60px;
}

/* CARD */
.member-card{
background:rgba(10,10,20,0.85);
padding:35px;
border-radius:25px;
text-align:center;
border:1px solid rgba(0,153,255,0.3);
box-shadow:0 0 25px rgba(0,153,255,0.2);
transition:0.4s;
position:relative;
overflow:hidden;
}

.member-card:hover{
transform:translateY(-10px);
box-shadow:0 0 50px rgba(0,153,255,0.6);
}

/* RANK */
.rank{
position:absolute;
top:15px;
right:15px;
font-size:18px;
animation:pulse 2s infinite;
}

@keyframes pulse{
0%{transform:scale(1);}
50%{transform:scale(1.15);}
100%{transform:scale(1);}
}

/* AVATAR */
.avatar-wrapper{
width:130px;
height:130px;
margin:auto;
border-radius:50%;
padding:4px;
background:linear-gradient(45deg,#0099FF,#00FFFF,#0099FF);
animation:rotateAura 6s linear infinite;
}

@keyframes rotateAura{
0%{transform:rotate(0deg);}
100%{transform:rotate(360deg);}
}

.avatar-wrapper img{
width:100%;
height:100%;
border-radius:50%;
object-fit:cover;
}

/* WAVE NEON */
.wave{
position:fixed;
bottom:0;
left:0;
width:200%;
height:250px;
background:radial-gradient(circle at 50% 50%, rgba(0,153,255,0.4), transparent 70%);
animation:waveMove 8s linear infinite;
z-index:-2;
}

@keyframes waveMove{
0%{transform:translateX(0);}
100%{transform:translateX(-50%);}
}

/* THREEJS CANVAS */
canvas{
position:fixed;
top:0;
left:0;
z-index:-3;
}
</style>
</head>

<body>

<nav>
<a href="index.html">In√≠cio</a>
<a href="membros.html">Membros</a>
<a href="participantes.html">Participantes</a>
<a href="links.html">Links Oficiais</a>
<a href="formulario.html">Formul√°rio</a>
</nav>

<div class="container">
<h2>üèÜ Ranking Mindset Elite</h2>

<div class="grid" id="membersGrid">
Carregando ranking...
</div>
</div>

<div class="wave"></div>

<script>
/* ========================= */
/* PARTICULAS 3D THREE.JS */
/* ========================= */

const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 2000);
const renderer = new THREE.WebGLRenderer({ alpha:true });
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

const geometry = new THREE.BufferGeometry();
const vertices = [];

for(let i=0;i<3000;i++){
  vertices.push(
    THREE.MathUtils.randFloatSpread(2000),
    THREE.MathUtils.randFloatSpread(2000),
    THREE.MathUtils.randFloatSpread(2000)
  );
}

geometry.setAttribute('position', new THREE.Float32BufferAttribute(vertices,3));

const material = new THREE.PointsMaterial({
  color:0x0099ff,
  size:2
});

const particles = new THREE.Points(geometry, material);
scene.add(particles);

camera.position.z = 600;

function animate(){
  requestAnimationFrame(animate);
  particles.rotation.x += 0.0006;
  particles.rotation.y += 0.0006;
  renderer.render(scene, camera);
}
animate();

/* ========================= */
/* RANKING BACKEND */
/* ========================= */

async function carregarRanking(){
  try{
    const res = await fetch("/ranking");
    const data = await res.json();

    const grid = document.getElementById("membersGrid");
    grid.innerHTML="";

    data.ranking.forEach(user=>{
      let medal="";
      if(user.rank===1) medal="ü•á";
      else if(user.rank===2) medal="ü•à";
      else if(user.rank===3) medal="ü•â";

      grid.innerHTML+=`
        <div class="member-card">
          <div class="rank">#${user.rank} ${medal}</div>
          <div class="avatar-wrapper">
            <img src="images/default.jpg">
          </div>
          <h3>${user.nome}</h3>
          <p>${user.idade} anos</p>
        </div>
      `;
    });

  }catch{
    document.getElementById("membersGrid").innerHTML="Erro ao carregar ranking.";
  }
}

carregarRanking();
</script>

</body>
</html>
